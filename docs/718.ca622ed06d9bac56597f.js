(self.webpackChunknotebookreact=self.webpackChunknotebookreact||[]).push([[718],{6718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(7294),n=a(5977),l=a(3727),o=a(9669),c=a.n(o),r=a(724),m=a.n(r),u=a(6168),i=a(7267),d=a(2230),p=a(9791),f=a(7356),E=a(7065);const h=(0,n.EN)((function(e){const{id:t}=(0,n.UO)(),a=(0,s.useContext)(i.Z),o=(0,s.useContext)(d.Z),[r,h]=(0,s.useState)(!0),[g,y]=(0,s.useState)();if((0,s.useEffect)((()=>{const e=c().CancelToken.source();return async function(){try{const a=await c().get(`/post/${t}`,{cancelToken:e.token});y(a.data),h(!1)}catch(e){console.log("ops!")}}(),()=>{e.cancel()}}),[t]),!r&&!g)return s.createElement(E.Z,null);if(r)return s.createElement(p.Z,{title:"..."},s.createElement(f.Z,null));let k=new Date(g.createdDate),N=`${k.getMonth()+1}/${k.getDate()}/${k.getFullYear()}`;return s.createElement(p.Z,{title:g.title},s.createElement("div",{className:"d-flex justify-content-between"},s.createElement("h2",null,g.title),!!a.loggedIn&&a.user.username==g.author.username&&s.createElement("span",{className:"pt-2"},s.createElement(l.rU,{to:`/post/${g._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.createElement("i",{className:"fas fa-edit"})),s.createElement(u.Z,{id:"edit",className:"custom-tooltip"})," ",s.createElement("a",{onClick:async function(s){if(window.confirm("do you want to delete this post!"))try{"Success"==(await c().delete(`/post/${t}`,{data:{token:a.user.token}})).data?(o({type:"flashMessage",value:{msg:"Post was successfully deleted!",mode:"success"}}),e.history.push(`/profile/${a.user.username}`)):console.log("no no!")}catch(s){console.log("ops again!")}},className:"delete-post-button text-danger","data-tip":"delete","data-for":"delete"},s.createElement("i",{className:"fas fa-trash"})),s.createElement(u.Z,{id:"delete",className:"custom-tooltip"}))),s.createElement("p",{className:"text-muted small mb-4"},s.createElement(l.rU,{to:`/profile/${g.author.username}`},s.createElement("img",{className:"avatar-tiny",src:g.author.avatar})),"Posted by ",s.createElement(l.rU,{to:`/profile/${g.author.username}`},g.author.username)," on ",N),s.createElement("div",{className:"body-content"},s.createElement(m(),{source:g.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))}))}}]);